(function(e){if(typeof exports==="object"&&typeof module!=="undefined"){module.exports=e()}else if(typeof define==="function"&&define.amd){define([],e)}else{var t;if(typeof window!=="undefined"){t=window}else if(typeof global!=="undefined"){t=global}else if(typeof self!=="undefined"){t=self}else{t=this}t.canvascondense=e()}})(function(){var e,t,n;return function(){function c(o,a,u){function f(n,e){if(!a[n]){if(!o[n]){var t="function"==typeof require&&require;if(!e&&t)return t(n,!0);if(s)return s(n,!0);var i=new Error("Cannot find module '"+n+"'");throw i.code="MODULE_NOT_FOUND",i}var r=a[n]={exports:{}};o[n][0].call(r.exports,function(e){var t=o[n][1][e];return f(t||e)},r,r.exports,c,o,a,u)}return a[n].exports}for(var s="function"==typeof require&&require,e=0;e<u.length;e++)f(u[e]);return f}return c}()({1:[function(e,t,n){"use strict";var i=e("./lib");var r=o(i);function o(e){return e&&e.__esModule?e:{default:e}}t.exports=r.default},{"./lib":2}],2:[function(e,t,n){"use strict";var i=e("./module/canvascondense.js");var r=o(i);function o(e){return e&&e.__esModule?e:{default:e}}t.exports=r.default},{"./module/canvascondense.js":3}],3:[function(e,t,n){"use strict";var i=function(){function i(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||false;i.configurable=true;if("value"in i)i.writable=true;Object.defineProperty(e,i.key,i)}}return function(e,t,n){if(t)i(e.prototype,t);if(n)i(e,n);return e}}();function r(e,t){if(!(e instanceof t)){throw new TypeError("Cannot call a class as a function")}}var o=function(){function n(e,t){r(this,n);this.options=t;this.input=e}i(n,[{key:"fileToDataURL",value:function e(t,n){var i=new FileReader;i.readAsDataURL(t);i.onload=function(e){n(e.target.result)}}},{key:"compress",value:function e(){var u=this;return new Promise(function(r,o){var e=u.input.files[0];var a=e.type;u.fileToDataURL(e,function(e){var t=document.createElement("img");t.src=e;t.onload=function(){var e=document.createElement("canvas");var t=1;if(this.width>u.options.maxpix||this.height>u.options.maxpix){if(this.width>this.height){t=u.options.maxpix/this.width}else{t=u.options.maxpix/this.height}}e.width=this.width*t;e.height=this.height*t;var n=e.getContext("2d");n.drawImage(this,0,0,e.width,e.height);var i=e.toDataURL(a,u.options.qulity);if(i){r(i)}else{o("error")}}})})}}]);return n}();t.exports=o},{}]},{},[1])(1)});